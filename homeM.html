<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Home - Moomate</title>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"/>
  <link rel="icon" type="image/x-icon" href="src/images/favicon.ico">

  <!-- CSS -->
  <link rel="stylesheet" href="src/styles/homeM.css"/>
</head>
<body>

<header class="top-bar">
  <div class="logo-area">
    <img src="src/images/favicon.png" alt="Logo Moomate" />
  </div>

  <nav class="nav-links" id="navMenu">
    <a href="homeM.html">Home</a>
    <a href="entregasM.html">Entregas</a>
    <a href="carteiraM.html">Carteira</a>
    <a href="suporteM.html">Suporte</a>
    <a href="chatM.html">CHAT</a>
    <a href="ecopontosM.html">Pontos de coleta</a>
  </nav>

  <div class="header-icons">
    <a href="notifica√ß√µesM.html" title="Notifica√ß√µes"><i class="fa-solid fa-bell"></i></a>
    <a href="dadospessoaisM.html" title="Perfil"><i class="fa-solid fa-user-circle"></i></a>
    <a href="configura√ß√µesM.html" title="Configura√ß√µes"><i class="fa-solid fa-gear"></i></a>
    
    <button class="menu-toggle" id="menuToggle">
      <i class="fa-solid fa-bars"></i>
    </button>
  </div>
</header>

<!-- BANNER -->
<section class="banner">
  <img src="src/images/bannerhomemotorista2.png" alt="Banner mudan√ßa" />
  <div class="banner-text">
    <h2>Ganhe dinheiro com seu ve√≠culo fazendo mudan√ßas.</h2>
  </div>
</section>

<!-- PROPOSTAS -->
<section class="delivery-section">
  <h3>Propostas de entregas</h3>
  <div id="delivery-list">
    <p id="loading-message">Buscando novos pedidos...</p>
  </div>
  <button class="btn-cta full-width" id="submitBtn" disabled>MANDAR PROPOSTA DE VALOR</button>
</section>

<!-- MODAL ENVIAR PROPOSTA -->
<div id="proposalModal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <span class="modal-close" id="modalClose">&times;</span>
    <h2>Enviar Proposta</h2>
    <p>Preencha os detalhes da sua oferta para o cliente.</p>
    
    <div class="modal-input-group">
      <label for="proposalPrice"><i class="fa-solid fa-dollar-sign"></i> Seu Valor Base (R$)</label>
      <input type="number" id="proposalPrice" placeholder="Ex: 80.00" min="0">
    </div>
    
    <div class="modal-input-group">
      <label for="proposalTime"><i class="fa-solid fa-clock"></i> Tempo at√© a retirada (minutos)</label>
      <input type="number" id="proposalTime" placeholder="Ex: 15" min="1">
    </div>

    <div class="modal-input-group">
      <label for="proposalHelpers"><i class="fa-solid fa-users"></i> N√∫mero de Ajudantes (al√©m de voc√™)</label>
      <select id="proposalHelpers">
        <option value="0">0 Ajudantes</option>
        <option value="1">1 Ajudante</option>
        <option value="2">2 Ajudantes</option>
        <option value="3">3 Ajudantes</option>
      </select>
    </div>

    <div class="modal-input-group">
      <label for="proposalVehicle"><i class="fa-solid fa-truck"></i> Tamanho do seu Ve√≠culo</label>
      <select id="proposalVehicle">
        <option value="pequeno">Pequeno</option>
        <option value="medio">M√©dio</option>
        <option value="grande">Grande</option>
      </select>
    </div>

    <small class="price-summary">O cliente ver√° um valor final com base nas suas escolhas + taxa da plataforma.</small>
    <button class="btn-cta" id="sendProposalBtn">Confirmar e Enviar Proposta</button>
  </div>
</div>


<!-- Modal Proposta Aceita -->
<div id="propostaAceitaModal" class="modal-overlay" style="display: none;">
  <div class="modal-content">
    <span class="modal-close" onclick="fecharModalPropostaAceita()">&times;</span>
    <h2>‚úÖ Proposta Aceita</h2>
    <div class="proposta-aceita-info">
      <p><strong>Origem:</strong> <span id="origem-info"></span></p>
      <p><strong>Destino:</strong> <span id="destino-info"></span></p>
      <p><strong>Valor para o cliente:</strong> R$ <span id="valor-info"></span></p>
      <p><strong>Tempo at√© a retirada:</strong> <span id="tempo-info"></span> min</p>
    </div>
    <div class="modal-buttons">
      <button id="btnIniciarCorrida" class="btn-iniciar">üöö Iniciar Corrida</button>
      <button id="btnRecusarCorrida" class="btn-cancelar">‚ùå Recusar Corrida</button>
    </div>
  </div>
</div>


<footer>
  <div id="footer_content">
    <div class="footer-left">
      <img src="src/images/logobranca.png" alt="Logo da Moomate" id="moomate_logo">
    </div>
    <div class="footer-social">
      <span class="social-text">Acompanhe n√≥s</span>
      <div class="social-icons">
        <a href="https://www.instagram.com/moomateoficial" class="social-icon" target="_blank">
          <i class="fa-brands fa-instagram"></i>
        </a>
        <a href="https://www.linkedin.com/company/moomate" class="social-icon" target="_blank">
          <i class="fa-brands fa-linkedin-in"></i>
        </a>
      </div>
    </div>
  </div>
  <div id="footer_items">
    <span id="copyright">¬© 2025 Moomate. Todos os direitos reservados.</span>
  </div>
</footer>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

<!-- Configura√ß√£o Firebase (COLOQUE SEUS DADOS AQUI) -->
<script>
const firebaseConfig = {
  apiKey: "AIzaSyB9ZuAW1F9rBfOtg3hgGpA6H7JFUoiTlhE",
  authDomain: "moomate-39239.firebaseapp.com",
  projectId: "moomate-39239",
  storageBucket: "moomate-39239.appspot.com",
  messagingSenderId: "637968714747",
  appId: "1:637968714747:web:ad15dc3571c22f046b595e",
  measurementId: "G-62J7Q8CKP4"
};
</script>

<!-- Seu JS -->
<script src="src/javascript/homeM.js"></script>
<!-- MODAL: Proposta aceita pelo cliente (MOTORISTA) -->
<div id="modal-proposta-motorista" class="mm-modal hidden">
  <div class="mm-card">
    <h3>Proposta aceita</h3>
    <p id="mm-nome-cliente">Cliente: ‚Äî</p>
    <div id="mm-info-corrida" class="mm-info">
      <!-- origem, destino, valor, observa√ß√µes -->
    </div>

    <div class="mm-actions">
      <button id="mm-iniciar" class="primario">Iniciar corrida</button>
      <button id="mm-cancelar" class="secundario">Cancelar</button>
    </div>
  </div>
</div>

<style>
.mm-modal{position:fixed;inset:0;background:rgba(0,0,0,.45);display:flex;align-items:center;justify-content:center;z-index:9999}
.mm-modal.hidden{display:none}
.mm-card{width:min(520px,92vw);background:#fff;border-radius:12px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,.2)}
.mm-card h3{margin:0 0 8px 0}
.mm-info{font-size:.95rem;line-height:1.4;margin:8px 0 14px}
.mm-actions{display:flex;gap:10px;justify-content:flex-end}
.primario{padding:10px 14px;background:#3DBE34;border:0;color:#fff;border-radius:8px;cursor:pointer}
.secundario{padding:10px 14px;background:#e7e7e7;border:0;color:#111;border-radius:8px;cursor:pointer}
</style>
<script type="module"></script>
</body>
</html>
