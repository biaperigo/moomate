<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Agendamento - Moomate</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"/>
  <link rel="icon" type="image/x-icon" href="src/images/favicon.ico">
  <link rel="stylesheet" href="src/styles/agendamentoC.css"/>
</head>
<body>

  <!-- Header -->
  <header class="top-bar">
    <div class="logo-area">
      <img src="src/images/favicon.png" alt="Logo Moomate" />
    </div>

    <nav class="nav-links" id="navMenu">
      <a href="homeC.html">Home</a>
      <a href="agendamentoC.html">Agendamento</a>
      <a href="pedidosC.html">Pedidos</a>
      <a href="suporteC.html">Suporte</a>
      <a href="ecopontosC.html">Pontos de coleta</a>
    </nav>

    <div class="header-icons">
      <a href="dadospessoaisC.html" title="Perfil"><i class="fa-solid fa-user-circle"></i></a>
      <a href="configuraçõesC.html" title="Configurações"><i class="fa-solid fa-gear"></i></a>
      <button class="menu-toggle" id="menuToggle">
        <i class="fa-solid fa-bars"></i>
      </button>
    </div>
  </header>

  <!-- Banner -->
  <section class="banner">
    <img src="src/images/banneragendamento.png" alt="Banner agendamento" />
    <div class="banner-text">
      <h2>Agende sua mudança ou entrega.</h2>
    </div>
  </section>

  <div class="tabs">
    <div class="tab active" id="tab-solicitar">Solicitar</div>
    <div class="tab" id="tab-agendados">Agendados</div> 
  </div>

  <!-- Container Principal que envolve o conteúdo das abas -->
  <main id="main-content">
    
    <!-- Seção da Aba "Solicitar" -->
    <section id="solicitar-content" class="form-section active">
      <div class="form-fields">
        <!-- Data de Agendamento -->
        <div class="input-box">
          <label for="dataAgendamento"><i class="fa-solid fa-calendar-day"></i> Data de Agendamento</label>
          <input type="date" id="dataAgendamento" placeholder="Escolha a data" class="date-input" required>
        </div>

        <!-- Hora de Agendamento -->
        <div class="input-box">
          <label for="horaAgendamento"><i class="fa-solid fa-clock"></i> Hora de Agendamento</label>
          <input type="time" id="horaAgendamento" required>
        </div>

        <!-- Local de Retirada -->
        <div class="input-box">
          <label for="cep"><i class="fa-solid fa-map-pin"></i> CEP</label>
          <input type="text" id="cep" placeholder="Digite o CEP" maxlength="9" required>
        </div>

        <div class="input-box">
          <label for="localRetirada"><i class="fa-solid fa-location-dot"></i> Local de Retirada</label>
          <input type="text" id="localRetirada" placeholder="Digite o endereço completo" required>
        </div>

        <!-- Número e Complemento de Retirada -->
        <div class="input-group">
          <input type="text" id="numeroRetirada" placeholder="Número" required>
          <input type="text" id="complementoRetirada" placeholder="Complemento (opcional )">
        </div>

        <!-- Local de Entrega -->
        <div class="input-box">
          <label for="localEntrega"><i class="fa-solid fa-location-dot"></i> Local de Entrega</label>
          <input type="text" id="localEntrega" placeholder="Digite o endereço completo" required>
        </div>

        <!-- Número e Complemento de Entrega -->
        <div class="input-group">
          <input type="text" id="numeroEntrega" placeholder="Número" required>
          <input type="text" id="complementoEntrega" placeholder="Complemento (opcional)">
        </div>

        <!-- Número de Volumes -->
        <div class="input-box">
          <label for="volumes"><i class="fa-solid fa-boxes-stacked"></i> Número de Volumes</label>
          <input type="number" id="volumes" class="volumes-input" placeholder="Quantos itens serão transportados?" min="1" required>
        </div>

        <!-- Tipo de Veículo (Tamanho do Caminhão) -->
        <div class="input-box">
          <label><i class="fa-solid fa-truck"></i> Tipo de Veículo</label>
          <div class="vehicle-types">
            <div class="vehicle-option" data-type="pequeno">
              <strong>Pequeno:</strong> ideal para pequenas mudanças ou poucos móveis
            </div>
            <div class="vehicle-option" data-type="medio">
              <strong>Médio:</strong> bom para apartamentos com 2 a 3 cômodos
            </div>
            <div class="vehicle-option" data-type="grande">
              <strong>Grande:</strong> recomendado para casas grandes ou mudanças completas
            </div>
          </div>
          <input type="hidden" id="tipoVeiculo">
        </div>

        <button id="confirmarAgendamento" class="btn-cta">Ver Motoristas Disponíveis</button>
      </div>

      <section id="propostasSection" class="propostas-section" style="display: none;">
        <div id="propostasContainer">
          <!-- Conteúdo preenchido pelo JS -->
        </div>
      </section>
    </section>

    <!-- Seção da Aba "Agendados" -->
    <section id="agendados-content" class="agendados-section" style="display: none;">
      <div id="agendadosContainer" class="cards-container">
        <!-- Conteúdo preenchido pelo JS -->
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer>
    <div id="footer_content">
      <div class="footer-left">
        <img src="src/images/logobranca.png" alt="Logo da Moomate" id="moomate_logo">
      </div>
      <div class="footer-social">
        <span class="social-text">Acompanhe-nos</span>
        <div class="social-icons">
          <a href="https://www.instagram.com/moomateoficial" class="social-icon" target="_blank"><i class="fa-brands fa-instagram"></i></a>
          <a href="https://www.linkedin.com/company/moomate" class="social-icon" target="_blank"><i class="fa-brands fa-linkedin-in"></i></a>
        </div>
      </div>
    </div>
    <div id="footer_items">
      <span>© 2025 Moomate. Todos os direitos reservados.</span>
    </div>
  </footer>

  <!-- Modal de Confirmação de Proposta Aceita (informativo) -->
  <div id="modalPropostaAceita" class="mm-modal" style="display:none;">
    <div class="mm-modal-backdrop"></div>
    <div class="mm-modal-dialog" role="dialog" aria-labelledby="modalPropostaAceitaTitulo" aria-modal="true">
      <div class="mm-modal-header">
        <h3 id="modalPropostaAceitaTitulo"><i class="fa-solid fa-circle-check"></i> Proposta Aceita!</h3>
      </div>
      <div class="mm-modal-body">
        Sua viagem foi agendada com sucesso! Redirecionando para "Agendados"...
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function( ) {
      console.log('Inicializando Firebase...');
      const firebaseConfig = {
        apiKey: "AIzaSyB9ZuAW1F9rBfOtg3hgGpA6H7JFUoiTlhE",
        authDomain: "moomate-39239.firebaseapp.com",
        projectId: "moomate-39239",
        storageBucket: "moomate-39239.appspot.com",
        messagingSenderId: "637968714747",
        appId: "1:637968714747:web:ad15dc3571c22f046b595e",
        measurementId: "G-62J7Q8CKP4"
      };
      
      try {
        if (!firebase.apps.length) {
          firebase.initializeApp(firebaseConfig);
          console.log('Firebase inicializado com sucesso!');
        }
      } catch (error) {
        console.error('Erro ao inicializar o Firebase:', error);
      }
      
      const vehicleOptions = document.querySelectorAll('.vehicle-option');
      vehicleOptions.forEach(option => {
        option.addEventListener('click', () => {
          vehicleOptions.forEach(item => item.classList.remove('selected'));
          option.classList.add('selected');
          document.getElementById('tipoVeiculo').value = option.getAttribute('data-type');
        });
      });
    });
  </script>
  
  <script src="src/javascript/agendamentoC.js" defer></script>
  
</body>
</html>
